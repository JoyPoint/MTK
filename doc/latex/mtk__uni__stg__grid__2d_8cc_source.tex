\hypertarget{mtk__uni__stg__grid__2d_8cc_source}{\section{mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+2d.\+cc}
\label{mtk__uni__stg__grid__2d_8cc_source}\index{src/mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+2d.\+cc@{src/mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+2d.\+cc}}
}

\begin{DoxyCode}
00001 
00010 \textcolor{comment}{/*}
00011 \textcolor{comment}{Copyright (C) 2015, Computational Science Research Center, San Diego State}
00012 \textcolor{comment}{University. All rights reserved.}
00013 \textcolor{comment}{}
00014 \textcolor{comment}{Redistribution and use in source and binary forms, with or without modification,}
00015 \textcolor{comment}{are permitted provided that the following conditions are met:}
00016 \textcolor{comment}{}
00017 \textcolor{comment}{1. Modifications to source code should be reported to: esanchez@mail.sdsu.edu}
00018 \textcolor{comment}{and a copy of the modified files should be reported once modifications are}
00019 \textcolor{comment}{completed, unless these modifications are made through the project's GitHub}
00020 \textcolor{comment}{page: http://www.csrc.sdsu.edu/mtk. Documentation related to said modifications}
00021 \textcolor{comment}{should be developed and included in any deliverable.}
00022 \textcolor{comment}{}
00023 \textcolor{comment}{2. Redistributions of source code must be done through direct}
00024 \textcolor{comment}{downloads from the project's GitHub page: http://www.csrc.sdsu.edu/mtk}
00025 \textcolor{comment}{}
00026 \textcolor{comment}{3. Redistributions in binary form must reproduce the above copyright notice,}
00027 \textcolor{comment}{this list of conditions and the following disclaimer in the documentation and/or}
00028 \textcolor{comment}{other materials provided with the distribution.}
00029 \textcolor{comment}{}
00030 \textcolor{comment}{4. Usage of the binary form on proprietary applications shall require explicit}
00031 \textcolor{comment}{prior written permission from the the copyright holders, and due credit should}
00032 \textcolor{comment}{be given to the copyright holders.}
00033 \textcolor{comment}{}
00034 \textcolor{comment}{5. Neither the name of the copyright holder nor the names of its contributors}
00035 \textcolor{comment}{may be used to endorse or promote products derived from this software without}
00036 \textcolor{comment}{specific prior written permission.}
00037 \textcolor{comment}{}
00038 \textcolor{comment}{The copyright holders provide no reassurances that the source code provided does}
00039 \textcolor{comment}{not infringe any patent, copyright, or any other intellectual property rights of}
00040 \textcolor{comment}{third parties. The copyright holders disclaim any liability to any recipient for}
00041 \textcolor{comment}{claims brought against recipient by any third party for infringement of that}
00042 \textcolor{comment}{parties intellectual property rights.}
00043 \textcolor{comment}{}
00044 \textcolor{comment}{THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND}
00045 \textcolor{comment}{ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED}
00046 \textcolor{comment}{WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE}
00047 \textcolor{comment}{DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR}
00048 \textcolor{comment}{ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES}
00049 \textcolor{comment}{(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;}
00050 \textcolor{comment}{LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON}
00051 \textcolor{comment}{ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}
00052 \textcolor{comment}{(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS}
00053 \textcolor{comment}{SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}
00054 \textcolor{comment}{*/}
00055 
00056 \textcolor{preprocessor}{#include <iostream>}
00057 \textcolor{preprocessor}{#include <iomanip>}
00058 \textcolor{preprocessor}{#include <fstream>}
00059 
00060 \textcolor{preprocessor}{#include <algorithm>}
00061 
00062 \textcolor{preprocessor}{#include "\hyperlink{mtk__tools_8h}{mtk\_tools.h}"}
00063 \textcolor{preprocessor}{#include "\hyperlink{mtk__uni__stg__grid__2d_8h}{mtk\_uni\_stg\_grid\_2d.h}"}
00064 
00065 \textcolor{keyword}{namespace }\hyperlink{namespacemtk}{mtk} \{
00066 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00067}{}\hyperlink{namespacemtk_a82cd99c0c7e695e4eccfbe7380525959}{00067} std::ostream& \hyperlink{namespacemtk_ad3bcf52cda59ddb5fc7b4bdce76c46dc}{operator <<}(std::ostream &stream, \hyperlink{classmtk_1_1UniStgGrid2D}{mtk::UniStgGrid2D} &in) \{
00068 
00069   stream << \textcolor{charliteral}{'['} << in.\hyperlink{classmtk_1_1UniStgGrid2D_a59c42d8099a017bc8a082fddc1e5606c}{west\_bndy\_} << \textcolor{charliteral}{':'} << in.\hyperlink{classmtk_1_1UniStgGrid2D_ac03a0f4840ee6ae1bc853e5d9c0df8d1}{num\_cells\_x\_} << \textcolor{charliteral}{':'} <<
00070   in.\hyperlink{classmtk_1_1UniStgGrid2D_ae24f3d5bf5ed3a6d066cdf48aa1fb307}{east\_bndy\_} << \textcolor{stringliteral}{"] x "};
00071 
00072   stream << \textcolor{charliteral}{'['} << in.\hyperlink{classmtk_1_1UniStgGrid2D_ac228c81fad7f4feeae93fb3c09d7e175}{south\_bndy\_} << \textcolor{charliteral}{':'} << in.\hyperlink{classmtk_1_1UniStgGrid2D_a3e4f61d781212ad57c34e9446c4074b6}{num\_cells\_y\_} << \textcolor{charliteral}{':'} <<
00073   in.\hyperlink{classmtk_1_1UniStgGrid2D_a3f904091b6e74aa78d8543e5cba26afb}{north\_bndy\_} << \textcolor{stringliteral}{"] = "} << std::endl << std::endl;
00074 
00076 
00077   stream << \textcolor{stringliteral}{"x:"};
00078   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ii = 0; ii < in.\hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.size(); ++ii) \{
00079     stream << std::setw(10) << in.\hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}[ii];
00080   \}
00081   stream << std::endl;
00082 
00083   stream << \textcolor{stringliteral}{"y:"};
00084   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ii = 0; ii < in.\hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.size(); ++ii) \{
00085     stream << std::setw(10) << in.\hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}[ii];
00086   \}
00087   stream << std::endl;
00088 
00090 
00091   \textcolor{keywordflow}{if} (in.\hyperlink{classmtk_1_1UniStgGrid2D_ac8b66740d328803f7fbabd1c42c775b2}{nature\_} == \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2a8f3d9a4b6a7b7f2c7afa61ca113d0db9}{mtk::FieldNature::SCALAR}) \{
00092     stream << \textcolor{stringliteral}{"u:"} << std::endl;
00093     \textcolor{keywordflow}{if} (in.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.size() > 0) \{
00094       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < in.\hyperlink{classmtk_1_1UniStgGrid2D_ac03a0f4840ee6ae1bc853e5d9c0df8d1}{num\_cells\_x\_} + 2; ++ii) \{
00095         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < in.\hyperlink{classmtk_1_1UniStgGrid2D_a3e4f61d781212ad57c34e9446c4074b6}{num\_cells\_y\_} + 2; ++jj) \{
00096           stream << std::setw(10) << in.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}[ii*in.
      \hyperlink{classmtk_1_1UniStgGrid2D_a3e4f61d781212ad57c34e9446c4074b6}{num\_cells\_y\_} +
00097 jj];
00098         \}
00099         stream << std::endl;
00100       \}
00101     \}
00102   \} \textcolor{keywordflow}{else} \{
00103 
00104     \textcolor{keywordtype}{int} mm\{in.\hyperlink{classmtk_1_1UniStgGrid2D_ac03a0f4840ee6ae1bc853e5d9c0df8d1}{num\_cells\_x\_}\};
00105     \textcolor{keywordtype}{int} nn\{in.\hyperlink{classmtk_1_1UniStgGrid2D_a3e4f61d781212ad57c34e9446c4074b6}{num\_cells\_y\_}\};
00106     \textcolor{keywordtype}{int} p\_offset\{nn*(mm + 1) - 1\};
00107 
00108     stream << \textcolor{stringliteral}{"p(x,y):"} << std::endl;
00109     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < nn; ++ii) \{
00110       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < mm + 1; ++jj) \{
00111         stream << std::setw(10) << in.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}[ii*(mm + 1) + jj];
00112       \}
00113       stream << std::endl;
00114     \}
00115     stream << std::endl;
00116 
00117     stream << \textcolor{stringliteral}{"q(x,y):"} << std::endl;
00118     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < nn + 1; ++ii) \{
00119       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < mm; ++jj) \{
00120         stream << std::setw(10) <<
00121           in.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}[p\_offset + ii*mm + jj];
00122       \}
00123       stream << std::endl;
00124     \}
00125     stream << std::endl;
00126   \}
00127 
00128   \textcolor{keywordflow}{return} stream;
00129 \}
00130 \}
00131 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00132}{}\hyperlink{classmtk_1_1UniStgGrid2D_a40db9a6d21e0f4cf70c478fcc3b94531}{00132} \hyperlink{classmtk_1_1UniStgGrid2D_a40db9a6d21e0f4cf70c478fcc3b94531}{mtk::UniStgGrid2D::UniStgGrid2D}():
00133     discrete\_domain\_x\_(),
00134     discrete\_domain\_y\_(),
00135     discrete\_field\_(),
00136     nature\_(),
00137     west\_bndy\_(),
00138     east\_bndy\_(),
00139     num\_cells\_x\_(),
00140     delta\_x\_(),
00141     south\_bndy\_(),
00142     north\_bndy\_(),
00143     num\_cells\_y\_(),
00144     delta\_y\_() \{\}
00145 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00146}{}\hyperlink{classmtk_1_1UniStgGrid2D_aab6e54b48c3f32de808460ef46f598d4}{00146} \hyperlink{classmtk_1_1UniStgGrid2D_a40db9a6d21e0f4cf70c478fcc3b94531}{mtk::UniStgGrid2D::UniStgGrid2D}(\textcolor{keyword}{const} 
      \hyperlink{classmtk_1_1UniStgGrid2D}{UniStgGrid2D} &grid):
00147     nature\_(grid.nature\_),
00148     west\_bndy\_(grid.west\_bndy\_),
00149     east\_bndy\_(grid.east\_bndy\_),
00150     num\_cells\_x\_(grid.num\_cells\_x\_),
00151     delta\_x\_(grid.delta\_x\_),
00152     south\_bndy\_(grid.south\_bndy\_),
00153     north\_bndy\_(grid.north\_bndy\_),
00154     num\_cells\_y\_(grid.num\_cells\_y\_),
00155     delta\_y\_(grid.delta\_y\_) \{
00156 
00157     std::copy(grid.\hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.begin(),
00158               grid.\hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.begin() + grid.
      \hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.size(),
00159               \hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.begin());
00160 
00161     std::copy(grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.begin(),
00162               grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.begin() + grid.
      \hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.size(),
00163               \hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.begin());
00164 
00165     std::copy(grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.begin(),
00166               grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.begin() + grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.size(),
00167               \hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.begin());
00168 \}
00169 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00170}{}\hyperlink{classmtk_1_1UniStgGrid2D_a9d96b31002c1deb3a90954bbb112487e}{00170} \hyperlink{classmtk_1_1UniStgGrid2D_a40db9a6d21e0f4cf70c478fcc3b94531}{mtk::UniStgGrid2D::UniStgGrid2D}(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &west\_bndy,
00171                                 \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &east\_bndy,
00172                                 \textcolor{keyword}{const} \textcolor{keywordtype}{int} &num\_cells\_x,
00173                                 \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &south\_bndy,
00174                                 \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &north\_bndy,
00175                                 \textcolor{keyword}{const} \textcolor{keywordtype}{int} &num\_cells\_y,
00176                                 \textcolor{keyword}{const} \hyperlink{group__c02-enums_ga4c54f2a329cfb4e56213b02a259d19e2}{mtk::FieldNature} &nature) \{
00177 
00178 \textcolor{preprocessor}{  #ifdef MTK\_PERFORM\_PREVENTIONS}
00179   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(west\_bndy < \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00180   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(east\_bndy < \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00181   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(east\_bndy <= west\_bndy, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00182   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(num\_cells\_x < 0, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00183   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(south\_bndy < \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00184   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(north\_bndy < \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00185   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(north\_bndy <= south\_bndy,
00186                       \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00187   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(num\_cells\_y < 0, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00188 \textcolor{preprocessor}{  #endif}
00189 
00190   nature\_ = nature;
00191 
00192   west\_bndy\_ = west\_bndy;
00193   east\_bndy\_ = east\_bndy;
00194   num\_cells\_x\_ = num\_cells\_x;
00195 
00196   south\_bndy\_ = south\_bndy;
00197   north\_bndy\_ = north\_bndy;
00198   num\_cells\_y\_ = num\_cells\_y;
00199 
00200   delta\_x\_ = (east\_bndy\_ - west\_bndy\_)/((\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}) num\_cells\_x);
00201   delta\_y\_ = (north\_bndy\_ - south\_bndy\_)/((\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}) num\_cells\_y);
00202 \}
00203 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00204}{}\hyperlink{classmtk_1_1UniStgGrid2D_a55615fed9674be8d8a48a1105e5a1476}{00204} \hyperlink{classmtk_1_1UniStgGrid2D_a55615fed9674be8d8a48a1105e5a1476}{mtk::UniStgGrid2D::~UniStgGrid2D}() \{\}
00205 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00206}{}\hyperlink{classmtk_1_1UniStgGrid2D_a99a3a9cdb05b7306be99bde935509e30}{00206} \hyperlink{group__c02-enums_ga4c54f2a329cfb4e56213b02a259d19e2}{mtk::FieldNature} \hyperlink{classmtk_1_1UniStgGrid2D_a99a3a9cdb05b7306be99bde935509e30}{mtk::UniStgGrid2D::nature}()\textcolor{keyword}{ const }\{
00207 
00208   \textcolor{keywordflow}{return} nature\_;
00209 \}
00210 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00211}{}\hyperlink{classmtk_1_1UniStgGrid2D_af2b1712387ded85edaf2b64617d3fc13}{00211} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_af2b1712387ded85edaf2b64617d3fc13}{mtk::UniStgGrid2D::west\_bndy}()\textcolor{keyword}{ const }\{
00212 
00213   \textcolor{keywordflow}{return} west\_bndy\_;
00214 \}
00215 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00216}{}\hyperlink{classmtk_1_1UniStgGrid2D_a03f689eb29a6369b82ce1207c655d5ff}{00216} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_a03f689eb29a6369b82ce1207c655d5ff}{mtk::UniStgGrid2D::east\_bndy}()\textcolor{keyword}{ const }\{
00217 
00218   \textcolor{keywordflow}{return} east\_bndy\_;
00219 \}
00220 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00221}{}\hyperlink{classmtk_1_1UniStgGrid2D_a2d182866a398aba8e4829590e85bf939}{00221} \textcolor{keywordtype}{int} \hyperlink{classmtk_1_1UniStgGrid2D_a2d182866a398aba8e4829590e85bf939}{mtk::UniStgGrid2D::num\_cells\_x}()\textcolor{keyword}{ const }\{
00222 
00223   \textcolor{keywordflow}{return} num\_cells\_x\_;
00224 \}
00225 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00226}{}\hyperlink{classmtk_1_1UniStgGrid2D_aca4710004c4a7da6a9e8fd6ab32a691f}{00226} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_aca4710004c4a7da6a9e8fd6ab32a691f}{mtk::UniStgGrid2D::delta\_x}()\textcolor{keyword}{ const }\{
00227 
00228   \textcolor{keywordflow}{return} delta\_x\_;
00229 \}
00230 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00231}{}\hyperlink{classmtk_1_1UniStgGrid2D_ab2f70cf5cd0a2d5486992d9f2f8baa4a}{00231} \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}* \hyperlink{classmtk_1_1UniStgGrid2D_ab2f70cf5cd0a2d5486992d9f2f8baa4a}{mtk::UniStgGrid2D::discrete\_domain\_x}()\textcolor{keyword}{ const }
      \{
00232 
00233   \textcolor{keywordflow}{return} discrete\_domain\_x\_.data();
00234 \}
00235 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00236}{}\hyperlink{classmtk_1_1UniStgGrid2D_a1442eaf219f099d0ebf46a170fdebf92}{00236} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_a1442eaf219f099d0ebf46a170fdebf92}{mtk::UniStgGrid2D::south\_bndy}()\textcolor{keyword}{ const }\{
00237 
00238   \textcolor{keywordflow}{return} south\_bndy\_;
00239 \}
00240 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00241}{}\hyperlink{classmtk_1_1UniStgGrid2D_afe1ead253cdeb5503e0489eba8fd84e2}{00241} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_afe1ead253cdeb5503e0489eba8fd84e2}{mtk::UniStgGrid2D::north\_bndy}()\textcolor{keyword}{ const }\{
00242 
00243   \textcolor{keywordflow}{return} north\_bndy\_;
00244 \}
00245 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00246}{}\hyperlink{classmtk_1_1UniStgGrid2D_aed05a801cc9a76dba0ff203cea58a61a}{00246} \textcolor{keywordtype}{int} \hyperlink{classmtk_1_1UniStgGrid2D_aed05a801cc9a76dba0ff203cea58a61a}{mtk::UniStgGrid2D::num\_cells\_y}()\textcolor{keyword}{ const }\{
00247 
00248   \textcolor{keywordflow}{return} num\_cells\_y\_;
00249 \}
00250 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00251}{}\hyperlink{classmtk_1_1UniStgGrid2D_a65a78cfc80ffdbeb282ed57af4dc5cb4}{00251} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_a65a78cfc80ffdbeb282ed57af4dc5cb4}{mtk::UniStgGrid2D::delta\_y}()\textcolor{keyword}{ const }\{
00252 
00253   \textcolor{keywordflow}{return} delta\_y\_;
00254 \}
00255 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00256}{}\hyperlink{classmtk_1_1UniStgGrid2D_aa651194ccd0321a7c61a8f56fa5e8455}{00256} \textcolor{keywordtype}{bool} \hyperlink{classmtk_1_1UniStgGrid2D_aa651194ccd0321a7c61a8f56fa5e8455}{mtk::UniStgGrid2D::Bound}()\textcolor{keyword}{ const }\{
00257 
00258   \textcolor{keywordflow}{return} discrete\_field\_.size() != 0;
00259 \}
00260 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00261}{}\hyperlink{classmtk_1_1UniStgGrid2D_ac33a58d65105550dcf6f6b92b48b5105}{00261} \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}* \hyperlink{classmtk_1_1UniStgGrid2D_ac33a58d65105550dcf6f6b92b48b5105}{mtk::UniStgGrid2D::discrete\_domain\_y}()\textcolor{keyword}{ const }
      \{
00262 
00263   \textcolor{keywordflow}{return} discrete\_domain\_y\_.data();
00264 \}
00265 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00266}{}\hyperlink{classmtk_1_1UniStgGrid2D_a3e72d59843a3f9c5e47da07e5850dfe0}{00266} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}* \hyperlink{classmtk_1_1UniStgGrid2D_a3e72d59843a3f9c5e47da07e5850dfe0}{mtk::UniStgGrid2D::discrete\_field}() \{
00267 
00268   \textcolor{keywordflow}{return} discrete\_field\_.data();
00269 \}
00270 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00271}{}\hyperlink{classmtk_1_1UniStgGrid2D_a9df5729dc490325c35757422b744bea3}{00271} \textcolor{keywordtype}{int} \hyperlink{classmtk_1_1UniStgGrid2D_a9df5729dc490325c35757422b744bea3}{mtk::UniStgGrid2D::Size}()\textcolor{keyword}{ const }\{
00272 
00273   \textcolor{keywordflow}{return} discrete\_field\_.size();
00274 \}
00275 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00276}{}\hyperlink{classmtk_1_1UniStgGrid2D_a5f9910ffb94e0314b16c026c4b5762ee}{00276} \textcolor{keywordtype}{void} \hyperlink{classmtk_1_1UniStgGrid2D_a5f9910ffb94e0314b16c026c4b5762ee}{mtk::UniStgGrid2D::BindScalarField}(
00277     \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} (*ScalarField)(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &xx, \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &yy)) \{
00278 
00279 \textcolor{preprocessor}{  #ifdef MTK\_PERFORM\_PREVENTIONS}
00280   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(nature\_ != \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2a8f3d9a4b6a7b7f2c7afa61ca113d0db9}{mtk::FieldNature::SCALAR}, 
      \_\_FILE\_\_, \_\_LINE\_\_,
00281 \_\_func\_\_);
00282 \textcolor{preprocessor}{  #endif}
00283 
00285 
00286   discrete\_domain\_x\_.reserve(num\_cells\_x\_ + 2);
00287 
00288   discrete\_domain\_x\_.push\_back(west\_bndy\_);
00289 \textcolor{preprocessor}{  #ifdef MTK\_PRECISION\_DOUBLE}
00290   \textcolor{keyword}{auto} first\_center = west\_bndy\_ + delta\_x\_/2.0;
00291 \textcolor{preprocessor}{  #else}
00292   \textcolor{keyword}{auto} first\_center = west\_bndy\_ + delta\_x\_/2.0f;
00293 \textcolor{preprocessor}{  #endif}
00294   discrete\_domain\_x\_.push\_back(first\_center);
00295   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} ii = 1; ii < num\_cells\_x\_; ++ii) \{
00296     discrete\_domain\_x\_.push\_back(first\_center + ii*delta\_x\_);
00297   \}
00298   discrete\_domain\_x\_.push\_back(east\_bndy\_);
00299 
00301 
00302   discrete\_domain\_y\_.reserve(num\_cells\_y\_ + 2);
00303 
00304   discrete\_domain\_y\_.push\_back(south\_bndy\_);
00305 \textcolor{preprocessor}{  #ifdef MTK\_PRECISION\_DOUBLE}
00306   first\_center = south\_bndy\_ + delta\_x\_/2.0;
00307 \textcolor{preprocessor}{  #else}
00308   first\_center = south\_bndy\_ + delta\_x\_/2.0f;
00309 \textcolor{preprocessor}{  #endif}
00310   discrete\_domain\_y\_.push\_back(first\_center);
00311   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} ii = 1; ii < num\_cells\_y\_; ++ii) \{
00312     discrete\_domain\_y\_.push\_back(first\_center + ii*delta\_y\_);
00313   \}
00314   discrete\_domain\_y\_.push\_back(north\_bndy\_);
00315 
00317 
00318   discrete\_field\_.reserve((num\_cells\_x\_ + 2)*(num\_cells\_y\_ + 2));
00319 
00320   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < num\_cells\_y\_ + 2; ++ii) \{
00321     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < num\_cells\_x\_ + 2; ++jj) \{
00322 \textcolor{preprocessor}{      #if MTK\_VERBOSE\_LEVEL > 6}
00323       std::cout << \textcolor{stringliteral}{"Pushing value for x = "} << discrete\_domain\_x\_[jj] <<
00324         \textcolor{stringliteral}{" y = "} << discrete\_domain\_y\_[ii] << std::endl;
00325 \textcolor{preprocessor}{      #endif}
00326       discrete\_field\_.push\_back(ScalarField(discrete\_domain\_x\_[jj],
00327                                             discrete\_domain\_y\_[ii]));
00328     \}
00329   \}
00330 \}
00331 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00332}{}\hyperlink{classmtk_1_1UniStgGrid2D_a47b92d03ef5ed2b1ed28091a424f8f52}{00332} \textcolor{keywordtype}{void} \hyperlink{classmtk_1_1UniStgGrid2D_a47b92d03ef5ed2b1ed28091a424f8f52}{mtk::UniStgGrid2D::BindVectorFieldPComponent}(
00333   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} (*VectorField)(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} &xx, \textcolor{keyword}{const} 
      \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} &yy)) \{
00334 
00335   \textcolor{keywordtype}{int} mm\{num\_cells\_x\_\};
00336   \textcolor{keywordtype}{int} nn\{num\_cells\_y\_\};
00337 
00338   \textcolor{keywordtype}{int} total\{nn*(mm + 1) + mm*(nn + 1)\};
00339 
00340 \textcolor{preprocessor}{  #ifdef MTK\_PRECISION\_DOUBLE}
00341   \textcolor{keywordtype}{double} half\_delta\_x\{delta\_x\_/2.0\};
00342   \textcolor{keywordtype}{double} half\_delta\_y\{delta\_y\_/2.0\};
00343 \textcolor{preprocessor}{  #else}
00344   \textcolor{keywordtype}{float} half\_delta\_x\{delta\_x\_/2.0f\};
00345   \textcolor{keywordtype}{float} half\_delta\_y\{delta\_y\_/2.0f\};
00346 \textcolor{preprocessor}{  #endif}
00347 
00349 
00350   \textcolor{comment}{// We need every data point of the discrete domain; i.e. we need all the}
00351   \textcolor{comment}{// nodes and all the centers. There are mm centers for the x direction, and}
00352   \textcolor{comment}{// nn centers for the y direction. Since there is one node per center, that}
00353   \textcolor{comment}{// amounts to 2*mm. If we finally consider the final boundary node, it}
00354   \textcolor{comment}{// amounts to a total of 2*mm + 1 for the x direction. Analogously, for the}
00355   \textcolor{comment}{// y direction, this amounts to 2*nn + 1.}
00356 
00357   discrete\_domain\_x\_.reserve(2*mm + 1);
00358 
00359   discrete\_domain\_x\_.push\_back(west\_bndy\_);
00360   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 1; ii < (2*mm + 1); ++ii) \{
00361     discrete\_domain\_x\_.push\_back(west\_bndy\_ + ii*half\_delta\_x);
00362   \}
00363 
00365 
00366   discrete\_domain\_y\_.reserve(2*nn + 1);
00367 
00368   discrete\_domain\_y\_.push\_back(south\_bndy\_);
00369   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 1; ii < (2*nn + 1); ++ii) \{
00370     discrete\_domain\_y\_.push\_back(south\_bndy\_ + ii*half\_delta\_y);
00371   \}
00372 
00374 
00375   discrete\_field\_.reserve(total);
00376 
00377   \textcolor{comment}{// For each y-center.}
00378   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 1; ii < 2*nn + 1; ii += 2) \{
00379 
00380     \textcolor{comment}{// Bind all of the x-nodes for this y-center.}
00381     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < 2*mm + 1; jj += 2) \{
00382       discrete\_field\_.push\_back(VectorField(discrete\_domain\_x\_[jj],
00383                                             discrete\_domain\_y\_[ii]));
00384 
00385 \textcolor{preprocessor}{      #if MTK\_VERBOSE\_LEVEL > 6}
00386       std::cout << \textcolor{stringliteral}{"Binding v at x = "} << discrete\_domain\_x\_[jj] << \textcolor{stringliteral}{" y = "} <<
00387         discrete\_domain\_y\_[ii] << \textcolor{stringliteral}{" = "} <<
00388         VectorField(discrete\_domain\_x\_[jj],discrete\_domain\_y\_[ii]) << std::endl;
00389 \textcolor{preprocessor}{      #endif}
00390     \}
00391   \}
00392 \textcolor{preprocessor}{  #if MTK\_VERBOSE\_LEVEL > 6}
00393   std::cout << std::endl;
00394 \textcolor{preprocessor}{  #endif}
00395 \}
00396 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00397}{}\hyperlink{classmtk_1_1UniStgGrid2D_a9643167e149da2ea4e57fd12cb9f1a97}{00397} \textcolor{keywordtype}{void} \hyperlink{classmtk_1_1UniStgGrid2D_a9643167e149da2ea4e57fd12cb9f1a97}{mtk::UniStgGrid2D::BindVectorFieldQComponent}(
00398   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} (*VectorField)(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} &xx, \textcolor{keyword}{const} 
      \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} &yy)) \{
00399 
00400   \textcolor{keywordtype}{int} mm\{num\_cells\_x\_\};
00401   \textcolor{keywordtype}{int} nn\{num\_cells\_y\_\};
00402 
00404 
00405   \textcolor{comment}{// For each y-node.}
00406   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < 2*nn + 1; ii += 2) \{
00407 
00408     \textcolor{comment}{// Bind all of the x-center for this y-node.}
00409     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 1; jj < 2*mm + 1; jj += 2) \{
00410       discrete\_field\_.push\_back(VectorField(discrete\_domain\_x\_[jj],
00411                                             discrete\_domain\_y\_[ii]));
00412 
00413 \textcolor{preprocessor}{      #if MTK\_VERBOSE\_LEVEL > 6}
00414       std::cout << \textcolor{stringliteral}{"Binding v at x = "} << discrete\_domain\_x\_[jj] << \textcolor{stringliteral}{" y = "} <<
00415         discrete\_domain\_y\_[ii] << \textcolor{stringliteral}{" = "} <<
00416         VectorField(discrete\_domain\_x\_[jj],discrete\_domain\_y\_[ii]) << std::endl;
00417 \textcolor{preprocessor}{      #endif}
00418     \}
00419   \}
00420 \textcolor{preprocessor}{  #if MTK\_VERBOSE\_LEVEL > 6}
00421   std::cout << std::endl;
00422 \textcolor{preprocessor}{  #endif}
00423 \}
00424 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00425}{}\hyperlink{classmtk_1_1UniStgGrid2D_ae274b24672e9bd6075bf38b015bd9083}{00425} \textcolor{keywordtype}{void} \hyperlink{classmtk_1_1UniStgGrid2D_ae274b24672e9bd6075bf38b015bd9083}{mtk::UniStgGrid2D::BindVectorField}(
00426   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} (*VectorFieldPComponent)(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &xx, \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &yy),
00427   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} (*VectorFieldQComponent)(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &xx, \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &yy)) \{
00428 
00429 \textcolor{preprocessor}{  #ifdef MTK\_PERFORM\_PREVENTIONS}
00430   \hyperlink{classmtk_1_1Tools_a332324c6f25e66be9dff48c5987a3b9f}{mtk::Tools::Prevent}(nature\_ != \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2a87752381b583740610f1dfeb07fdad7e}{mtk::FieldNature::VECTOR}, 
      \_\_FILE\_\_, \_\_LINE\_\_,
00431 \_\_func\_\_);
00432 \textcolor{preprocessor}{  #endif}
00433 
00434   BindVectorFieldPComponent(VectorFieldPComponent);
00435   BindVectorFieldQComponent(VectorFieldQComponent);
00436 \}
00437 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00438}{}\hyperlink{classmtk_1_1UniStgGrid2D_a1787a79e4bcee6b89c681dc7e5e2d7bc}{00438} \textcolor{keywordtype}{bool} \hyperlink{classmtk_1_1UniStgGrid2D_a1787a79e4bcee6b89c681dc7e5e2d7bc}{mtk::UniStgGrid2D::WriteToFile}(std::string filename,
00439                                     std::string space\_name\_x,
00440                                     std::string space\_name\_y,
00441                                     std::string field\_name)\textcolor{keyword}{ const }\{
00442 
00443   std::ofstream output\_dat\_file;  \textcolor{comment}{// Output file.}
00444 
00445   output\_dat\_file.open(filename);
00446 
00447   \textcolor{keywordflow}{if} (!output\_dat\_file.is\_open()) \{
00448     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00449   \}
00450 
00451   \textcolor{keywordflow}{if} (nature\_ == \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2a8f3d9a4b6a7b7f2c7afa61ca113d0db9}{mtk::FieldNature::SCALAR}) \{
00452     output\_dat\_file << \textcolor{stringliteral}{"# "} << space\_name\_x <<  \textcolor{charliteral}{' '} << space\_name\_y << \textcolor{charliteral}{' '} <<
00453       field\_name << std::endl;
00454 
00455     \textcolor{keywordtype}{int} idx\{\};
00456     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ii = 0; ii < discrete\_domain\_y\_.size(); ++ii) \{
00457       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} jj = 0; jj < discrete\_domain\_x\_.size(); ++jj) \{
00458         output\_dat\_file << discrete\_domain\_x\_[jj] << \textcolor{charliteral}{' '} <<
00459                            discrete\_domain\_y\_[ii] << \textcolor{charliteral}{' '} <<
00460                            discrete\_field\_[idx] <<
00461                           std::endl;
00462         idx++;
00463       \}
00464       output\_dat\_file << std::endl;
00465     \}
00466   \} \textcolor{keywordflow}{else} \{
00467     output\_dat\_file << \textcolor{stringliteral}{"# "} << space\_name\_x <<  \textcolor{charliteral}{' '} << space\_name\_y << \textcolor{charliteral}{' '} <<
00468       field\_name << std::endl;
00469 
00470     output\_dat\_file << \textcolor{stringliteral}{"# Horizontal component:"} << std::endl;
00471 
00472     \textcolor{keywordtype}{int} mm\{num\_cells\_x\_\};
00473     \textcolor{keywordtype}{int} nn\{num\_cells\_y\_\};
00474 
00476 
00477     \textcolor{comment}{// For each y-center.}
00478     \textcolor{keywordtype}{int} idx\{\};
00479     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 1; ii < 2*nn + 1; ii += 2) \{
00480       \textcolor{comment}{// Bind all of the x-nodes for this y-center.}
00481       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < 2*mm + 1; jj += 2) \{
00482 
00483         output\_dat\_file << discrete\_domain\_x\_[jj] << \textcolor{charliteral}{' '} <<
00484           discrete\_domain\_y\_[ii] << \textcolor{charliteral}{' '} << discrete\_field\_[idx] << \textcolor{charliteral}{' '} <<
00485           \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero} << std::endl;
00486 
00487         ++idx;
00488       \}
00489     \}
00490 
00492     \textcolor{keywordtype}{int} p\_offset\{nn*(mm + 1) - 1\};
00493     idx = 0;
00494     output\_dat\_file << \textcolor{stringliteral}{"# Vertical component:"} << std::endl;
00495     \textcolor{comment}{// For each y-node.}
00496     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < 2*nn + 1; ii += 2) \{
00497       \textcolor{comment}{// Bind all of the x-center for this y-node.}
00498       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 1; jj < 2*mm + 1; jj += 2) \{
00499 
00500         output\_dat\_file << discrete\_domain\_x\_[jj] << \textcolor{charliteral}{' '} <<
00501           discrete\_domain\_y\_[ii] << \textcolor{charliteral}{' '} << \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero} << \textcolor{charliteral}{' '} <<
00502           discrete\_field\_[p\_offset + idx] << std::endl;
00503 
00504         ++idx;
00505       \}
00506     \}
00507   \}
00508 
00509   output\_dat\_file.close();
00510 
00511   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00512 \}
\end{DoxyCode}
