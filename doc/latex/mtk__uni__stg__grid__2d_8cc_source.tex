\hypertarget{mtk__uni__stg__grid__2d_8cc_source}{\section{mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+2d.\+cc}
\label{mtk__uni__stg__grid__2d_8cc_source}\index{src/mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+2d.\+cc@{src/mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+2d.\+cc}}
}

\begin{DoxyCode}
00001 
00010 \textcolor{comment}{/*}
00011 \textcolor{comment}{Copyright (C) 2015, Computational Science Research Center, San Diego State}
00012 \textcolor{comment}{University. All rights reserved.}
00013 \textcolor{comment}{}
00014 \textcolor{comment}{Redistribution and use in source and binary forms, with or without modification,}
00015 \textcolor{comment}{are permitted provided that the following conditions are met:}
00016 \textcolor{comment}{}
00017 \textcolor{comment}{1. Modifications to source code should be reported to: esanchez@mail.sdsu.edu}
00018 \textcolor{comment}{and a copy of the modified files should be reported once modifications are}
00019 \textcolor{comment}{completed, unless these modifications are made through the project's GitHub}
00020 \textcolor{comment}{page: http://www.csrc.sdsu.edu/mtk. Documentation related to said modifications}
00021 \textcolor{comment}{should be developed and included in any deliverable.}
00022 \textcolor{comment}{}
00023 \textcolor{comment}{2. Redistributions of source code must be done through direct}
00024 \textcolor{comment}{downloads from the project's GitHub page: http://www.csrc.sdsu.edu/mtk}
00025 \textcolor{comment}{}
00026 \textcolor{comment}{3. Redistributions in binary form must reproduce the above copyright notice,}
00027 \textcolor{comment}{this list of conditions and the following disclaimer in the documentation and/or}
00028 \textcolor{comment}{other materials provided with the distribution.}
00029 \textcolor{comment}{}
00030 \textcolor{comment}{4. Usage of the binary form on proprietary applications shall require explicit}
00031 \textcolor{comment}{prior written permission from the the copyright holders, and due credit should}
00032 \textcolor{comment}{be given to the copyright holders.}
00033 \textcolor{comment}{}
00034 \textcolor{comment}{5. Neither the name of the copyright holder nor the names of its contributors}
00035 \textcolor{comment}{may be used to endorse or promote products derived from this software without}
00036 \textcolor{comment}{specific prior written permission.}
00037 \textcolor{comment}{}
00038 \textcolor{comment}{The copyright holders provide no reassurances that the source code provided does}
00039 \textcolor{comment}{not infringe any patent, copyright, or any other intellectual property rights of}
00040 \textcolor{comment}{third parties. The copyright holders disclaim any liability to any recipient for}
00041 \textcolor{comment}{claims brought against recipient by any third party for infringement of that}
00042 \textcolor{comment}{parties intellectual property rights.}
00043 \textcolor{comment}{}
00044 \textcolor{comment}{THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND}
00045 \textcolor{comment}{ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED}
00046 \textcolor{comment}{WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE}
00047 \textcolor{comment}{DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR}
00048 \textcolor{comment}{ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES}
00049 \textcolor{comment}{(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;}
00050 \textcolor{comment}{LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON}
00051 \textcolor{comment}{ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}
00052 \textcolor{comment}{(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS}
00053 \textcolor{comment}{SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}
00054 \textcolor{comment}{*/}
00055 
00056 \textcolor{preprocessor}{#include <iostream>}
00057 \textcolor{preprocessor}{#include <iomanip>}
00058 \textcolor{preprocessor}{#include <fstream>}
00059 
00060 \textcolor{preprocessor}{#include <algorithm>}
00061 
00062 \textcolor{preprocessor}{#include "\hyperlink{mtk__tools_8h}{mtk\_tools.h}"}
00063 \textcolor{preprocessor}{#include "\hyperlink{mtk__uni__stg__grid__2d_8h}{mtk\_uni\_stg\_grid\_2d.h}"}
00064 
00065 \textcolor{keyword}{namespace }\hyperlink{namespacemtk}{mtk} \{
00066 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00067}{}\hyperlink{namespacemtk_a82cd99c0c7e695e4eccfbe7380525959}{00067} std::ostream& \hyperlink{namespacemtk_ad3bcf52cda59ddb5fc7b4bdce76c46dc}{operator <<}(std::ostream &stream, \hyperlink{classmtk_1_1UniStgGrid2D}{mtk::UniStgGrid2D} &in) \{
00068 
00069   stream << \textcolor{charliteral}{'['} << in.\hyperlink{classmtk_1_1UniStgGrid2D_a59c42d8099a017bc8a082fddc1e5606c}{west\_bndy\_} << \textcolor{charliteral}{':'} << in.\hyperlink{classmtk_1_1UniStgGrid2D_ac03a0f4840ee6ae1bc853e5d9c0df8d1}{num\_cells\_x\_} << \textcolor{charliteral}{':'} <<
00070   in.\hyperlink{classmtk_1_1UniStgGrid2D_ae24f3d5bf5ed3a6d066cdf48aa1fb307}{east\_bndy\_} << \textcolor{stringliteral}{"] x "};
00071 
00072   stream << \textcolor{charliteral}{'['} << in.\hyperlink{classmtk_1_1UniStgGrid2D_ac228c81fad7f4feeae93fb3c09d7e175}{south\_bndy\_} << \textcolor{charliteral}{':'} << in.\hyperlink{classmtk_1_1UniStgGrid2D_a3e4f61d781212ad57c34e9446c4074b6}{num\_cells\_y\_} << \textcolor{charliteral}{':'} <<
00073   in.\hyperlink{classmtk_1_1UniStgGrid2D_a3f904091b6e74aa78d8543e5cba26afb}{north\_bndy\_} << \textcolor{stringliteral}{"] = "} << std::endl << std::endl;
00074 
00076 
00077   stream << \textcolor{stringliteral}{"x:"};
00078   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ii = 0; ii < in.\hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.size(); ++ii) \{
00079     stream << std::setw(10) << in.\hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}[ii];
00080   \}
00081   stream << std::endl;
00082 
00083   stream << \textcolor{stringliteral}{"y:"};
00084   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ii = 0; ii < in.\hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.size(); ++ii) \{
00085     stream << std::setw(10) << in.\hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}[ii];
00086   \}
00087   stream << std::endl;
00088 
00090 
00091   \textcolor{keywordflow}{if} (in.\hyperlink{classmtk_1_1UniStgGrid2D_ac8b66740d328803f7fbabd1c42c775b2}{nature\_} == \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2af481d45bd70d41381c7d72e200889205}{mtk::SCALAR}) \{
00092     stream << \textcolor{stringliteral}{"u:"} << std::endl;
00093     \textcolor{keywordflow}{if} (in.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.size() > 0) \{
00094       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < in.\hyperlink{classmtk_1_1UniStgGrid2D_ac03a0f4840ee6ae1bc853e5d9c0df8d1}{num\_cells\_x\_} + 2; ++ii) \{
00095         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < in.\hyperlink{classmtk_1_1UniStgGrid2D_a3e4f61d781212ad57c34e9446c4074b6}{num\_cells\_y\_} + 2; ++jj) \{
00096           stream << std::setw(10) << in.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}[ii*in.
      \hyperlink{classmtk_1_1UniStgGrid2D_a3e4f61d781212ad57c34e9446c4074b6}{num\_cells\_y\_} + jj];
00097         \}
00098         stream << std::endl;
00099       \}
00100     \}
00101   \} \textcolor{keywordflow}{else} \{
00102 
00103     \textcolor{keywordtype}{int} mm\{in.\hyperlink{classmtk_1_1UniStgGrid2D_ac03a0f4840ee6ae1bc853e5d9c0df8d1}{num\_cells\_x\_}\};
00104     \textcolor{keywordtype}{int} nn\{in.\hyperlink{classmtk_1_1UniStgGrid2D_a3e4f61d781212ad57c34e9446c4074b6}{num\_cells\_y\_}\};
00105     \textcolor{keywordtype}{int} p\_offset\{nn*(mm + 1) - 1\};
00106 
00107     stream << \textcolor{stringliteral}{"p(x,y):"} << std::endl;
00108     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < nn; ++ii) \{
00109       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < mm + 1; ++jj) \{
00110         stream << std::setw(10) << in.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}[ii*(mm + 1) + jj];
00111       \}
00112       stream << std::endl;
00113     \}
00114     stream << std::endl;
00115 
00116     stream << \textcolor{stringliteral}{"q(x,y):"} << std::endl;
00117     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < nn + 1; ++ii) \{
00118       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < mm; ++jj) \{
00119         stream << std::setw(10) <<
00120           in.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}[p\_offset + ii*mm + jj];
00121       \}
00122       stream << std::endl;
00123     \}
00124     stream << std::endl;
00125   \}
00126 
00127   \textcolor{keywordflow}{return} stream;
00128 \}
00129 \}
00130 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00131}{}\hyperlink{classmtk_1_1UniStgGrid2D_a40db9a6d21e0f4cf70c478fcc3b94531}{00131} \hyperlink{classmtk_1_1UniStgGrid2D_a40db9a6d21e0f4cf70c478fcc3b94531}{mtk::UniStgGrid2D::UniStgGrid2D}():
00132     discrete\_domain\_x\_(),
00133     discrete\_domain\_y\_(),
00134     discrete\_field\_(),
00135     nature\_(),
00136     west\_bndy\_(),
00137     east\_bndy\_(),
00138     num\_cells\_x\_(),
00139     delta\_x\_(),
00140     south\_bndy\_(),
00141     north\_bndy\_(),
00142     num\_cells\_y\_(),
00143     delta\_y\_() \{\}
00144 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00145}{}\hyperlink{classmtk_1_1UniStgGrid2D_aab6e54b48c3f32de808460ef46f598d4}{00145} \hyperlink{classmtk_1_1UniStgGrid2D_a40db9a6d21e0f4cf70c478fcc3b94531}{mtk::UniStgGrid2D::UniStgGrid2D}(\textcolor{keyword}{const} 
      \hyperlink{classmtk_1_1UniStgGrid2D}{UniStgGrid2D} &grid):
00146     nature\_(grid.nature\_),
00147     west\_bndy\_(grid.west\_bndy\_),
00148     east\_bndy\_(grid.east\_bndy\_),
00149     num\_cells\_x\_(grid.num\_cells\_x\_),
00150     delta\_x\_(grid.delta\_x\_),
00151     south\_bndy\_(grid.south\_bndy\_),
00152     north\_bndy\_(grid.north\_bndy\_),
00153     num\_cells\_y\_(grid.num\_cells\_y\_),
00154     delta\_y\_(grid.delta\_y\_) \{
00155 
00156     std::copy(grid.\hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.begin(),
00157               grid.\hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.begin() + grid.
      \hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.size(),
00158               \hyperlink{classmtk_1_1UniStgGrid2D_ab15979865852583a46662ea592f27a4f}{discrete\_domain\_x\_}.begin());
00159 
00160     std::copy(grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.begin(),
00161               grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.begin() + grid.
      \hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.size(),
00162               \hyperlink{classmtk_1_1UniStgGrid2D_ad69f93d4b27707d97f209b907383a7a2}{discrete\_domain\_y\_}.begin());
00163 
00164     std::copy(grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.begin(),
00165               grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.begin() + grid.\hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.size(),
00166               \hyperlink{classmtk_1_1UniStgGrid2D_ad7474b2669ee988b84aed20b7f5dc7be}{discrete\_field\_}.begin());
00167 \}
00168 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00169}{}\hyperlink{classmtk_1_1UniStgGrid2D_ad8813b1ffcf23bb759f59f8524702e80}{00169} \hyperlink{classmtk_1_1UniStgGrid2D_a40db9a6d21e0f4cf70c478fcc3b94531}{mtk::UniStgGrid2D::UniStgGrid2D}(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &west\_bndy,
00170                                 \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &east\_bndy,
00171                                 \textcolor{keyword}{const} \textcolor{keywordtype}{int} &num\_cells\_x,
00172                                 \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &south\_bndy,
00173                                 \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} &north\_bndy,
00174                                 \textcolor{keyword}{const} \textcolor{keywordtype}{int} &num\_cells\_y,
00175                                 \textcolor{keyword}{const} \hyperlink{group__c02-enums_ga4c54f2a329cfb4e56213b02a259d19e2}{mtk::FieldNature} &nature) \{
00176 
00177 \textcolor{preprocessor}{  #if MTK\_DEBUG\_LEVEL > 0}
00178   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(west\_bndy < \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00179   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(east\_bndy < \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00180   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(east\_bndy <= west\_bndy, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00181   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(num\_cells\_x < 0, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00182   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(south\_bndy < \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00183   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(north\_bndy < \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00184   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(north\_bndy <= south\_bndy,
00185                       \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00186   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(num\_cells\_y < 0, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00187 \textcolor{preprocessor}{  #endif}
00188 
00189   nature\_ = nature;
00190 
00191   west\_bndy\_ = west\_bndy;
00192   east\_bndy\_ = east\_bndy;
00193   num\_cells\_x\_ = num\_cells\_x;
00194 
00195   south\_bndy\_ = south\_bndy;
00196   north\_bndy\_ = north\_bndy;
00197   num\_cells\_y\_ = num\_cells\_y;
00198 
00199   delta\_x\_ = (east\_bndy\_ - west\_bndy\_)/((\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}) num\_cells\_x);
00200   delta\_y\_ = (north\_bndy\_ - south\_bndy\_)/((\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}) num\_cells\_y);
00201 \}
00202 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00203}{}\hyperlink{classmtk_1_1UniStgGrid2D_a55615fed9674be8d8a48a1105e5a1476}{00203} \hyperlink{classmtk_1_1UniStgGrid2D_a55615fed9674be8d8a48a1105e5a1476}{mtk::UniStgGrid2D::~UniStgGrid2D}() \{\}
00204 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00205}{}\hyperlink{classmtk_1_1UniStgGrid2D_a99a3a9cdb05b7306be99bde935509e30}{00205} \hyperlink{group__c02-enums_ga4c54f2a329cfb4e56213b02a259d19e2}{mtk::FieldNature} \hyperlink{classmtk_1_1UniStgGrid2D_a99a3a9cdb05b7306be99bde935509e30}{mtk::UniStgGrid2D::nature}()\textcolor{keyword}{ const }\{
00206 
00207   \textcolor{keywordflow}{return} nature\_;
00208 \}
00209 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00210}{}\hyperlink{classmtk_1_1UniStgGrid2D_af2b1712387ded85edaf2b64617d3fc13}{00210} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_af2b1712387ded85edaf2b64617d3fc13}{mtk::UniStgGrid2D::west\_bndy}()\textcolor{keyword}{ const }\{
00211 
00212   \textcolor{keywordflow}{return} west\_bndy\_;
00213 \}
00214 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00215}{}\hyperlink{classmtk_1_1UniStgGrid2D_a03f689eb29a6369b82ce1207c655d5ff}{00215} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_a03f689eb29a6369b82ce1207c655d5ff}{mtk::UniStgGrid2D::east\_bndy}()\textcolor{keyword}{ const }\{
00216 
00217   \textcolor{keywordflow}{return} east\_bndy\_;
00218 \}
00219 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00220}{}\hyperlink{classmtk_1_1UniStgGrid2D_a2d182866a398aba8e4829590e85bf939}{00220} \textcolor{keywordtype}{int} \hyperlink{classmtk_1_1UniStgGrid2D_a2d182866a398aba8e4829590e85bf939}{mtk::UniStgGrid2D::num\_cells\_x}()\textcolor{keyword}{ const }\{
00221 
00222   \textcolor{keywordflow}{return} num\_cells\_x\_;
00223 \}
00224 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00225}{}\hyperlink{classmtk_1_1UniStgGrid2D_aca4710004c4a7da6a9e8fd6ab32a691f}{00225} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_aca4710004c4a7da6a9e8fd6ab32a691f}{mtk::UniStgGrid2D::delta\_x}()\textcolor{keyword}{ const }\{
00226 
00227   \textcolor{keywordflow}{return} delta\_x\_;
00228 \}
00229 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00230}{}\hyperlink{classmtk_1_1UniStgGrid2D_ab2f70cf5cd0a2d5486992d9f2f8baa4a}{00230} \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}* \hyperlink{classmtk_1_1UniStgGrid2D_ab2f70cf5cd0a2d5486992d9f2f8baa4a}{mtk::UniStgGrid2D::discrete\_domain\_x}()\textcolor{keyword}{ const }
      \{
00231 
00232   \textcolor{keywordflow}{return} discrete\_domain\_x\_.data();
00233 \}
00234 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00235}{}\hyperlink{classmtk_1_1UniStgGrid2D_a1442eaf219f099d0ebf46a170fdebf92}{00235} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_a1442eaf219f099d0ebf46a170fdebf92}{mtk::UniStgGrid2D::south\_bndy}()\textcolor{keyword}{ const }\{
00236 
00237   \textcolor{keywordflow}{return} south\_bndy\_;
00238 \}
00239 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00240}{}\hyperlink{classmtk_1_1UniStgGrid2D_afe1ead253cdeb5503e0489eba8fd84e2}{00240} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_afe1ead253cdeb5503e0489eba8fd84e2}{mtk::UniStgGrid2D::north\_bndy}()\textcolor{keyword}{ const }\{
00241 
00242   \textcolor{keywordflow}{return} north\_bndy\_;
00243 \}
00244 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00245}{}\hyperlink{classmtk_1_1UniStgGrid2D_aed05a801cc9a76dba0ff203cea58a61a}{00245} \textcolor{keywordtype}{int} \hyperlink{classmtk_1_1UniStgGrid2D_aed05a801cc9a76dba0ff203cea58a61a}{mtk::UniStgGrid2D::num\_cells\_y}()\textcolor{keyword}{ const }\{
00246 
00247   \textcolor{keywordflow}{return} num\_cells\_y\_;
00248 \}
00249 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00250}{}\hyperlink{classmtk_1_1UniStgGrid2D_a65a78cfc80ffdbeb282ed57af4dc5cb4}{00250} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} \hyperlink{classmtk_1_1UniStgGrid2D_a65a78cfc80ffdbeb282ed57af4dc5cb4}{mtk::UniStgGrid2D::delta\_y}()\textcolor{keyword}{ const }\{
00251 
00252   \textcolor{keywordflow}{return} delta\_y\_;
00253 \}
00254 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00255}{}\hyperlink{classmtk_1_1UniStgGrid2D_ac33a58d65105550dcf6f6b92b48b5105}{00255} \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}* \hyperlink{classmtk_1_1UniStgGrid2D_ac33a58d65105550dcf6f6b92b48b5105}{mtk::UniStgGrid2D::discrete\_domain\_y}()\textcolor{keyword}{ const }
      \{
00256 
00257   \textcolor{keywordflow}{return} discrete\_domain\_y\_.data();
00258 \}
00259 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00260}{}\hyperlink{classmtk_1_1UniStgGrid2D_ac17f8a24f8e95f19cb03e27cc8011e4e}{00260} \textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real}* \hyperlink{classmtk_1_1UniStgGrid2D_ac17f8a24f8e95f19cb03e27cc8011e4e}{mtk::UniStgGrid2D::discrete\_field}()\textcolor{keyword}{ const }\{
00261 
00262   \textcolor{keywordflow}{return} discrete\_field\_.data();
00263 \}
00264 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00265}{}\hyperlink{classmtk_1_1UniStgGrid2D_ab6aff36e9f89fba1c1ff4f9914508211}{00265} \textcolor{keywordtype}{void} \hyperlink{classmtk_1_1UniStgGrid2D_ab6aff36e9f89fba1c1ff4f9914508211}{mtk::UniStgGrid2D::BindScalarField}(\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} (*ScalarField)(
      \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} xx, \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} yy)) \{
00266 
00267 \textcolor{preprocessor}{  #if MTK\_DEBUG\_LEVEL > 0}
00268   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(nature\_ != \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2af481d45bd70d41381c7d72e200889205}{mtk::SCALAR}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00269 \textcolor{preprocessor}{  #endif}
00270 
00272 
00273   discrete\_domain\_x\_.reserve(num\_cells\_x\_ + 2);
00274 
00275   discrete\_domain\_x\_.push\_back(west\_bndy\_);
00276 \textcolor{preprocessor}{  #ifdef MTK\_PRECISION\_DOUBLE}
00277   \textcolor{keyword}{auto} first\_center = west\_bndy\_ + delta\_x\_/2.0;
00278 \textcolor{preprocessor}{  #else}
00279   \textcolor{keyword}{auto} first\_center = west\_bndy\_ + delta\_x\_/2.0f;
00280 \textcolor{preprocessor}{  #endif}
00281   discrete\_domain\_x\_.push\_back(first\_center);
00282   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} ii = 1; ii < num\_cells\_x\_; ++ii) \{
00283     discrete\_domain\_x\_.push\_back(first\_center + ii*delta\_x\_);
00284   \}
00285   discrete\_domain\_x\_.push\_back(east\_bndy\_);
00286 
00288 
00289   discrete\_domain\_y\_.reserve(num\_cells\_y\_ + 2);
00290 
00291   discrete\_domain\_y\_.push\_back(south\_bndy\_);
00292 \textcolor{preprocessor}{  #ifdef MTK\_PRECISION\_DOUBLE}
00293   first\_center = south\_bndy\_ + delta\_x\_/2.0;
00294 \textcolor{preprocessor}{  #else}
00295   first\_center = south\_bndy\_ + delta\_x\_/2.0f;
00296 \textcolor{preprocessor}{  #endif}
00297   discrete\_domain\_y\_.push\_back(first\_center);
00298   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} ii = 1; ii < num\_cells\_y\_; ++ii) \{
00299     discrete\_domain\_y\_.push\_back(first\_center + ii*delta\_y\_);
00300   \}
00301   discrete\_domain\_y\_.push\_back(north\_bndy\_);
00302 
00304 
00305   discrete\_field\_.reserve((num\_cells\_x\_ + 2)*(num\_cells\_y\_ + 2));
00306 
00307   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < num\_cells\_x\_ + 2; ++ii) \{
00308     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < num\_cells\_y\_ + 2; ++jj) \{
00309       discrete\_field\_.push\_back(ScalarField(discrete\_domain\_x\_[ii],
00310                                             discrete\_domain\_y\_[jj]));
00311     \}
00312   \}
00313 \}
00314 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00315}{}\hyperlink{classmtk_1_1UniStgGrid2D_a5ff685fde27134437dd0b372fb6b9958}{00315} \textcolor{keywordtype}{void} \hyperlink{classmtk_1_1UniStgGrid2D_a5ff685fde27134437dd0b372fb6b9958}{mtk::UniStgGrid2D::BindVectorFieldPComponent}(
00316   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} (*VectorField)(\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} xx, \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} yy)) \{
00317 
00318   \textcolor{keywordtype}{int} mm\{num\_cells\_x\_\};
00319   \textcolor{keywordtype}{int} nn\{num\_cells\_y\_\};
00320 
00321   \textcolor{keywordtype}{int} total\{nn*(mm + 1) + mm*(nn + 1)\};
00322 
00323 \textcolor{preprocessor}{  #ifdef MTK\_PRECISION\_DOUBLE}
00324   \textcolor{keywordtype}{double} half\_delta\_x\{delta\_x\_/2.0\};
00325   \textcolor{keywordtype}{double} half\_delta\_y\{delta\_y\_/2.0\};
00326 \textcolor{preprocessor}{  #else}
00327   \textcolor{keywordtype}{float} half\_delta\_x\{delta\_x\_/2.0f\};
00328   \textcolor{keywordtype}{float} half\_delta\_y\{delta\_y\_/2.0f\};
00329 \textcolor{preprocessor}{  #endif}
00330 
00332 
00333   \textcolor{comment}{// We need every data point of the discrete domain; i.e. we need all the}
00334   \textcolor{comment}{// nodes and all the centers. There are mm centers for the x direction, and}
00335   \textcolor{comment}{// nn centers for the y direction. Since there is one node per center, that}
00336   \textcolor{comment}{// amounts to 2*mm. If we finally consider the final boundary node, it}
00337   \textcolor{comment}{// amounts to a total of 2*mm + 1 for the x direction. Analogously, for the}
00338   \textcolor{comment}{// y direction, this amounts to 2*nn + 1.}
00339 
00340   discrete\_domain\_x\_.reserve(2*mm + 1);
00341 
00342   discrete\_domain\_x\_.push\_back(west\_bndy\_);
00343   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 1; ii < (2*mm + 1); ++ii) \{
00344     discrete\_domain\_x\_.push\_back(west\_bndy\_ + ii*half\_delta\_x);
00345   \}
00346 
00348 
00349   discrete\_domain\_y\_.reserve(2*nn + 1);
00350 
00351   discrete\_domain\_y\_.push\_back(south\_bndy\_);
00352   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 1; ii < (2*nn + 1); ++ii) \{
00353     discrete\_domain\_y\_.push\_back(south\_bndy\_ + ii*half\_delta\_y);
00354   \}
00355 
00357 
00358   discrete\_field\_.reserve(total);
00359 
00360   \textcolor{comment}{// For each y-center.}
00361   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 1; ii < 2*nn + 1; ii += 2) \{
00362 
00363     \textcolor{comment}{// Bind all of the x-nodes for this y-center.}
00364     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < 2*mm + 1; jj += 2) \{
00365       discrete\_field\_.push\_back(VectorField(discrete\_domain\_x\_[jj],
00366                                             discrete\_domain\_y\_[ii]));
00367 
00368 \textcolor{preprocessor}{      #if MTK\_DEBUG\_LEVEL > 0}
00369       std::cout << \textcolor{stringliteral}{"Binding v at x = "} << discrete\_domain\_x\_[jj] << \textcolor{stringliteral}{" y = "} <<
00370         discrete\_domain\_y\_[ii] << \textcolor{stringliteral}{" = "} <<
00371         VectorField(discrete\_domain\_x\_[jj],discrete\_domain\_y\_[ii]) << std::endl;
00372 \textcolor{preprocessor}{      #endif}
00373     \}
00374   \}
00375 \textcolor{preprocessor}{  #if MTK\_DEBUG\_LEVEL > 0}
00376   std::cout << std::endl;
00377 \textcolor{preprocessor}{  #endif}
00378 \}
00379 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00380}{}\hyperlink{classmtk_1_1UniStgGrid2D_a8b7ae23231a4a694073b6c22715a4375}{00380} \textcolor{keywordtype}{void} \hyperlink{classmtk_1_1UniStgGrid2D_a8b7ae23231a4a694073b6c22715a4375}{mtk::UniStgGrid2D::BindVectorFieldQComponent}(
00381   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} (*VectorField)(\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} xx, \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} yy)) \{
00382 
00383   \textcolor{keywordtype}{int} mm\{num\_cells\_x\_\};
00384   \textcolor{keywordtype}{int} nn\{num\_cells\_y\_\};
00385 
00387 
00388   \textcolor{comment}{// For each y-node.}
00389   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < 2*nn + 1; ii += 2) \{
00390 
00391     \textcolor{comment}{// Bind all of the x-center for this y-node.}
00392     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 1; jj < 2*mm + 1; jj += 2) \{
00393       discrete\_field\_.push\_back(VectorField(discrete\_domain\_x\_[jj],
00394                                             discrete\_domain\_y\_[ii]));
00395 
00396 \textcolor{preprocessor}{      #if MTK\_DEBUG\_LEVEL > 0}
00397       std::cout << \textcolor{stringliteral}{"Binding v at x = "} << discrete\_domain\_x\_[jj] << \textcolor{stringliteral}{" y = "} <<
00398         discrete\_domain\_y\_[ii] << \textcolor{stringliteral}{" = "} <<
00399         VectorField(discrete\_domain\_x\_[jj],discrete\_domain\_y\_[ii]) << std::endl;
00400 \textcolor{preprocessor}{      #endif}
00401     \}
00402   \}
00403 \textcolor{preprocessor}{  #if MTK\_DEBUG\_LEVEL > 0}
00404   std::cout << std::endl;
00405 \textcolor{preprocessor}{  #endif}
00406 \}
00407 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00408}{}\hyperlink{classmtk_1_1UniStgGrid2D_a1cba89c285973514c1351760d598c52b}{00408} \textcolor{keywordtype}{void} \hyperlink{classmtk_1_1UniStgGrid2D_a1cba89c285973514c1351760d598c52b}{mtk::UniStgGrid2D::BindVectorField}(
00409   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} (*VectorFieldPComponent)(\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} xx,\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} yy),
00410   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} (*VectorFieldQComponent)(\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} xx,\hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{Real} yy)) \{
00411 
00412 \textcolor{preprocessor}{  #if MTK\_DEBUG\_LEVEL > 0}
00413   \hyperlink{classmtk_1_1Tools_afe5bb096309258e2e72503fd7b41c7e0}{mtk::Tools::Prevent}(nature\_ != \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2a3d8cb27a993651a74d67fb8c98ae91b2}{mtk::VECTOR}, \_\_FILE\_\_, \_\_LINE\_\_, \_\_func\_\_);
00414 \textcolor{preprocessor}{  #endif}
00415 
00416   BindVectorFieldPComponent(VectorFieldPComponent);
00417   BindVectorFieldQComponent(VectorFieldQComponent);
00418 \}
00419 
\hypertarget{mtk__uni__stg__grid__2d_8cc_source_l00420}{}\hyperlink{classmtk_1_1UniStgGrid2D_a1787a79e4bcee6b89c681dc7e5e2d7bc}{00420} \textcolor{keywordtype}{bool} \hyperlink{classmtk_1_1UniStgGrid2D_a1787a79e4bcee6b89c681dc7e5e2d7bc}{mtk::UniStgGrid2D::WriteToFile}(std::string filename,
00421                                     std::string space\_name\_x,
00422                                     std::string space\_name\_y,
00423                                     std::string field\_name)\textcolor{keyword}{ const }\{
00424 
00425   std::ofstream output\_dat\_file;  \textcolor{comment}{// Output file.}
00426 
00427   output\_dat\_file.open(filename);
00428 
00429   \textcolor{keywordflow}{if} (!output\_dat\_file.is\_open()) \{
00430     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00431   \}
00432 
00433   \textcolor{keywordflow}{if} (nature\_ == \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2af481d45bd70d41381c7d72e200889205}{mtk::SCALAR}) \{
00434     output\_dat\_file << \textcolor{stringliteral}{"# "} << space\_name\_x <<  \textcolor{charliteral}{' '} << space\_name\_y << \textcolor{charliteral}{' '} <<
00435       field\_name << std::endl;
00436 
00437     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ii = 0; ii < discrete\_domain\_x\_.size(); ++ii) \{
00438       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} jj = 0; jj < discrete\_domain\_y\_.size(); ++jj) \{
00439         output\_dat\_file << discrete\_domain\_x\_[ii] << \textcolor{charliteral}{' '} <<
00440                            discrete\_domain\_y\_[jj] << \textcolor{charliteral}{' '} <<
00441                            discrete\_field\_[ii*discrete\_domain\_y\_.size() + jj] <<
00442                           std::endl;
00443       \}
00444       output\_dat\_file << std::endl;
00445     \}
00446   \} \textcolor{keywordflow}{else} \{
00447     output\_dat\_file << \textcolor{stringliteral}{"# "} << space\_name\_x <<  \textcolor{charliteral}{' '} << space\_name\_y << \textcolor{charliteral}{' '} <<
00448       field\_name << std::endl;
00449 
00450     output\_dat\_file << \textcolor{stringliteral}{"# Horizontal component:"} << std::endl;
00451 
00452     \textcolor{keywordtype}{int} mm\{num\_cells\_x\_\};
00453     \textcolor{keywordtype}{int} nn\{num\_cells\_y\_\};
00454 
00456 
00457     \textcolor{comment}{// For each y-center.}
00458     \textcolor{keywordtype}{int} idx\{\};
00459     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 1; ii < 2*nn + 1; ii += 2) \{
00460       \textcolor{comment}{// Bind all of the x-nodes for this y-center.}
00461       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < 2*mm + 1; jj += 2) \{
00462 
00463         output\_dat\_file << discrete\_domain\_x\_[jj] << \textcolor{charliteral}{' '} <<
00464           discrete\_domain\_y\_[ii] << \textcolor{charliteral}{' '} << discrete\_field\_[idx] << \textcolor{charliteral}{' '} <<
00465           \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero} << std::endl;
00466 
00467         ++idx;
00468       \}
00469     \}
00470 
00472     \textcolor{keywordtype}{int} p\_offset\{nn*(mm + 1) - 1\};
00473     idx = 0;
00474     output\_dat\_file << \textcolor{stringliteral}{"# Vertical component:"} << std::endl;
00475     \textcolor{comment}{// For each y-node.}
00476     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < 2*nn + 1; ii += 2) \{
00477       \textcolor{comment}{// Bind all of the x-center for this y-node.}
00478       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 1; jj < 2*mm + 1; jj += 2) \{
00479 
00480         output\_dat\_file << discrete\_domain\_x\_[jj] << \textcolor{charliteral}{' '} <<
00481           discrete\_domain\_y\_[ii] << \textcolor{charliteral}{' '} << \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero} << \textcolor{charliteral}{' '} <<
00482           discrete\_field\_[p\_offset + idx] << std::endl;
00483 
00484         ++idx;
00485       \}
00486     \}
00487   \}
00488 
00489   output\_dat\_file.close();
00490 
00491   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00492 \}
\end{DoxyCode}
