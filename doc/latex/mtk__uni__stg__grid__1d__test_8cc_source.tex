\hypertarget{mtk__uni__stg__grid__1d__test_8cc_source}{\section{mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+1d\+\_\+test.\+cc}
\label{mtk__uni__stg__grid__1d__test_8cc_source}\index{tests/mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+1d\+\_\+test.\+cc@{tests/mtk\+\_\+uni\+\_\+stg\+\_\+grid\+\_\+1d\+\_\+test.\+cc}}
}

\begin{DoxyCode}
00001 
00008 \textcolor{comment}{/*}
00009 \textcolor{comment}{Copyright (C) 2015, Computational Science Research Center, San Diego State}
00010 \textcolor{comment}{University. All rights reserved.}
00011 \textcolor{comment}{}
00012 \textcolor{comment}{Redistribution and use in source and binary forms, with or without modification,}
00013 \textcolor{comment}{are permitted provided that the following conditions are met:}
00014 \textcolor{comment}{}
00015 \textcolor{comment}{1. Modifications to source code should be reported to: esanchez@mail.sdsu.edu}
00016 \textcolor{comment}{and a copy of the modified files should be reported once modifications are}
00017 \textcolor{comment}{completed, unless these modifications are made through the project's GitHub}
00018 \textcolor{comment}{page: http://www.csrc.sdsu.edu/mtk. Documentation related to said modifications}
00019 \textcolor{comment}{should be developed and included in any deliverable.}
00020 \textcolor{comment}{}
00021 \textcolor{comment}{2. Redistributions of source code must be done through direct}
00022 \textcolor{comment}{downloads from the project's GitHub page: http://www.csrc.sdsu.edu/mtk}
00023 \textcolor{comment}{}
00024 \textcolor{comment}{3. Redistributions in binary form must reproduce the above copyright notice,}
00025 \textcolor{comment}{this list of conditions and the following disclaimer in the documentation and/or}
00026 \textcolor{comment}{other materials provided with the distribution.}
00027 \textcolor{comment}{}
00028 \textcolor{comment}{4. Usage of the binary form on proprietary applications shall require explicit}
00029 \textcolor{comment}{prior written permission from the the copyright holders, and due credit should}
00030 \textcolor{comment}{be given to the copyright holders.}
00031 \textcolor{comment}{}
00032 \textcolor{comment}{5. Neither the name of the copyright holder nor the names of its contributors}
00033 \textcolor{comment}{may be used to endorse or promote products derived from this software without}
00034 \textcolor{comment}{specific prior written permission.}
00035 \textcolor{comment}{}
00036 \textcolor{comment}{The copyright holders provide no reassurances that the source code provided does}
00037 \textcolor{comment}{not infringe any patent, copyright, or any other intellectual property rights of}
00038 \textcolor{comment}{third parties. The copyright holders disclaim any liability to any recipient for}
00039 \textcolor{comment}{claims brought against recipient by any third party for infringement of that}
00040 \textcolor{comment}{parties intellectual property rights.}
00041 \textcolor{comment}{}
00042 \textcolor{comment}{THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND}
00043 \textcolor{comment}{ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED}
00044 \textcolor{comment}{WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE}
00045 \textcolor{comment}{DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR}
00046 \textcolor{comment}{ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES}
00047 \textcolor{comment}{(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;}
00048 \textcolor{comment}{LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON}
00049 \textcolor{comment}{ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}
00050 \textcolor{comment}{(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS}
00051 \textcolor{comment}{SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}
00052 \textcolor{comment}{*/}
00053 
00054 \textcolor{preprocessor}{#if \_\_cplusplus == 201103L}
00055 
00056 \textcolor{preprocessor}{#include <ctime>}
00057 
00058 \textcolor{preprocessor}{#include <iostream>}
00059 
00060 \textcolor{preprocessor}{#include <vector>}
00061 
00062 \textcolor{preprocessor}{#include "\hyperlink{mtk_8h}{mtk.h}"}
00063 
00064 \textcolor{keywordtype}{void} TestDefaultConstructor() \{
00065 
00066   \hyperlink{classmtk_1_1Tools_afc29ecaf337a13ed2e817d3890a5a441}{mtk::Tools::BeginUnitTestNo}(1);
00067 
00068   \hyperlink{classmtk_1_1UniStgGrid1D}{mtk::UniStgGrid1D} gg;
00069 
00070   \hyperlink{classmtk_1_1Tools_aba67d9dc35c9c1c49430fcc9ea035e03}{mtk::Tools::EndUnitTestNo}(1);
00071   \hyperlink{classmtk_1_1Tools_ac6804df469c94ab6a796fb64f1e44a89}{mtk::Tools::Assert}(gg.\hyperlink{classmtk_1_1UniStgGrid1D_a6e7173b01241632cf509496d66b9f74c}{delta\_x}() == \hyperlink{group__c01-roots_ga59a451a5fae30d59649bcda274fea271}{mtk::kZero});
00072 \}
00073 
00074 \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} ScalarField(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} &xx, \textcolor{keyword}{const} std::vector<mtk::Real> &pp) \{
00075 
00076   \textcolor{keywordflow}{return} 2.0*xx;
00077 \}
00078 
00079 \textcolor{keywordtype}{void} TestConstructWithWestBndyEastBndyNumCellsOStreamOperatorBindScalarField() \{
00080 
00081   \hyperlink{classmtk_1_1Tools_afc29ecaf337a13ed2e817d3890a5a441}{mtk::Tools::BeginUnitTestNo}(2);
00082 
00083   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} aa = 0.0;
00084   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} bb = 1.0;
00085 
00086   \textcolor{keywordtype}{int} nn = 5;
00087 
00088   \hyperlink{classmtk_1_1UniStgGrid1D}{mtk::UniStgGrid1D} gg(aa, bb, nn);
00089 
00090   gg.\hyperlink{classmtk_1_1UniStgGrid1D_a6ad3040de719dff71d934f0062e9860f}{BindScalarField}(ScalarField, std::vector<mtk::Real>());
00091 
00092   std::cout << gg << std::endl;
00093 
00094   \hyperlink{classmtk_1_1Tools_aba67d9dc35c9c1c49430fcc9ea035e03}{mtk::Tools::EndUnitTestNo}(2);
00095   \hyperlink{classmtk_1_1Tools_ac6804df469c94ab6a796fb64f1e44a89}{mtk::Tools::Assert}(gg.\hyperlink{classmtk_1_1UniStgGrid1D_a6e7173b01241632cf509496d66b9f74c}{delta\_x}() == 0.2 && gg.
      \hyperlink{classmtk_1_1UniStgGrid1D_af1b3729d8afa07be5b2775ed68015b80}{num\_cells\_x}() == 5);
00096 \}
00097 
00098 \textcolor{keywordtype}{void} TestBindScalarFieldWriteToFile() \{
00099 
00100   \hyperlink{classmtk_1_1Tools_afc29ecaf337a13ed2e817d3890a5a441}{mtk::Tools::BeginUnitTestNo}(3);
00101 
00102   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} aa = 0.0;
00103   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} bb = 1.0;
00104 
00105   \textcolor{keywordtype}{int} nn = 5;
00106 
00107   \hyperlink{classmtk_1_1UniStgGrid1D}{mtk::UniStgGrid1D} gg(aa, bb, nn);
00108 
00109   \textcolor{keywordtype}{bool} assertion\{\textcolor{keyword}{true}\};
00110 
00111   gg.\hyperlink{classmtk_1_1UniStgGrid1D_a6ad3040de719dff71d934f0062e9860f}{BindScalarField}(ScalarField, std::vector<mtk::Real>());
00112 
00113   assertion =
00114     assertion &&
00115     gg.\hyperlink{classmtk_1_1UniStgGrid1D_ab9c3f9ee2ac76a351b01e4abfede4d19}{discrete\_field}()[0] == 0.0 &&
00116     gg.\hyperlink{classmtk_1_1UniStgGrid1D_ab9c3f9ee2ac76a351b01e4abfede4d19}{discrete\_field}()[gg.\hyperlink{classmtk_1_1UniStgGrid1D_af1b3729d8afa07be5b2775ed68015b80}{num\_cells\_x}() + 2 - 1] == 2.0;
00117 
00118   \textcolor{keywordflow}{if}(!gg.\hyperlink{classmtk_1_1UniStgGrid1D_a6d2c10aa9468a037829f0eb043b898dc}{WriteToFile}(\textcolor{stringliteral}{"mtk\_uni\_stg\_grid\_1d\_test\_03.dat"}, \textcolor{stringliteral}{"x"}, \textcolor{stringliteral}{"u(x)"})) \{
00119     std::cerr << \textcolor{stringliteral}{"Error writing to file."} << std::endl;
00120     assertion = \textcolor{keyword}{false};
00121   \}
00122 
00123   \hyperlink{classmtk_1_1Tools_aba67d9dc35c9c1c49430fcc9ea035e03}{mtk::Tools::EndUnitTestNo}(3);
00124   \hyperlink{classmtk_1_1Tools_ac6804df469c94ab6a796fb64f1e44a89}{mtk::Tools::Assert}(assertion);
00125 \}
00126 
00127 \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} VectorFieldPComponent(\textcolor{keyword}{const} \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} &xx,
00128                                 \textcolor{keyword}{const} std::vector<mtk::Real> &pp) \{
00129 
00130   \textcolor{keywordflow}{return} xx*xx;
00131 \}
00132 
00133 \textcolor{keywordtype}{void} TestBindVectorField() \{
00134 
00135   \hyperlink{classmtk_1_1Tools_afc29ecaf337a13ed2e817d3890a5a441}{mtk::Tools::BeginUnitTestNo}(4);
00136 
00137   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} aa = 0.0;
00138   \hyperlink{group__c01-roots_gac080bbbf5cbb5502c9f00405f894857d}{mtk::Real} bb = 1.0;
00139 
00140   \textcolor{keywordtype}{int} nn = 20;
00141 
00142   \hyperlink{classmtk_1_1UniStgGrid1D}{mtk::UniStgGrid1D} gg(aa, bb, nn, \hyperlink{namespacemtk_ga4c54f2a329cfb4e56213b02a259d19e2a87752381b583740610f1dfeb07fdad7e}{mtk::FieldNature::VECTOR});
00143 
00144   \textcolor{keywordtype}{bool} assertion\{\textcolor{keyword}{true}\};
00145 
00146   gg.\hyperlink{classmtk_1_1UniStgGrid1D_ac6f8c592636dfa5a92217ac82405976d}{BindVectorField}(VectorFieldPComponent, std::vector<mtk::Real>());
00147 
00148   assertion =
00149     assertion &&
00150     gg.\hyperlink{classmtk_1_1UniStgGrid1D_ab9c3f9ee2ac76a351b01e4abfede4d19}{discrete\_field}()[0] == 0.0 &&
00151     gg.\hyperlink{classmtk_1_1UniStgGrid1D_ab9c3f9ee2ac76a351b01e4abfede4d19}{discrete\_field}()[gg.\hyperlink{classmtk_1_1UniStgGrid1D_af1b3729d8afa07be5b2775ed68015b80}{num\_cells\_x}() + 1 - 1] == 1.0;
00152 
00153   \textcolor{keywordflow}{if}(!gg.\hyperlink{classmtk_1_1UniStgGrid1D_a6d2c10aa9468a037829f0eb043b898dc}{WriteToFile}(\textcolor{stringliteral}{"mtk\_uni\_stg\_grid\_1d\_test\_04.dat"}, \textcolor{stringliteral}{"x"}, \textcolor{stringliteral}{"v(x)"})) \{
00154     std::cerr << \textcolor{stringliteral}{"Error writing to file."} << std::endl;
00155     assertion = \textcolor{keyword}{false};
00156   \}
00157 
00158   \hyperlink{classmtk_1_1Tools_aba67d9dc35c9c1c49430fcc9ea035e03}{mtk::Tools::EndUnitTestNo}(4);
00159   \hyperlink{classmtk_1_1Tools_ac6804df469c94ab6a796fb64f1e44a89}{mtk::Tools::Assert}(assertion);
00160 \}
00161 
00162 \textcolor{keywordtype}{int} \hyperlink{mtk__uni__stg__grid__1d__test_8cc_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} () \{
00163 
00164   std::cout << \textcolor{stringliteral}{"Testing mtk::UniStgGrid1D class."} << std::endl;
00165 
00166   TestDefaultConstructor();
00167   TestConstructWithWestBndyEastBndyNumCellsOStreamOperatorBindScalarField();
00168   TestBindScalarFieldWriteToFile();
00169   TestBindVectorField();
00170 \}
00171 
00172 \textcolor{preprocessor}{#else}
00173 \textcolor{preprocessor}{#include <iostream>}
00174 \textcolor{keyword}{using} std::cout;
00175 \textcolor{keyword}{using} std::endl;
\hypertarget{mtk__uni__stg__grid__1d__test_8cc_source_l00176}{}\hyperlink{mtk__uni__stg__grid__1d__test_8cc_ae66f6b31b5ad750f1fe042a706a4e3d4}{00176} \textcolor{keywordtype}{int} \hyperlink{mtk__uni__stg__grid__1d__test_8cc_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} () \{
00177   cout << \textcolor{stringliteral}{"This code HAS to be compiled with support for C++11."} << endl;
00178   cout << \textcolor{stringliteral}{"Exiting..."} << endl;
00179 \}
00180 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
